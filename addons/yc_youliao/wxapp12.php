<?php
echo '123';exit;
 goto YXP0e; WNUvb: require IA_ROOT . "\57\x61\144\x64\x6f\x6e\x73\x2f\171\143\137\171\x6f\x75\154\x69\x61\x6f\57\x63\x6c\141\x73\x73\57\162\x65\161\x49\156\146\x6f\x2e\x70\x68\x70"; goto QJ3LN; l5V5l: require IA_ROOT . "\57\x61\144\144\157\156\x73\x2f\171\x63\137\171\x6f\165\154\151\141\x6f\57\143\x6c\141\x73\163\x2f\165\164\151\x6c\x2e\x70\150\x70"; goto WNUvb; fLiYR: require IA_ROOT . "\57\141\x64\144\157\156\163\x2f\171\x63\137\x79\x6f\165\x6c\x69\141\x6f\57\155\x6f\144\x65\154\x2f\x53\150\157\160\x5f\x70\162\x6f\56\160\x68\160"; goto WeG27; PHGWY: require IA_ROOT . "\57\x61\x64\144\157\156\163\x2f\171\143\x5f\171\x6f\165\154\x69\141\157\x2f\x63\x6c\141\163\x73\57\144\x65\x66\151\156\145\x44\x61\x74\141\x2e\x70\x68\x70"; goto IZqfv; vhsqa: require IA_ROOT . "\57\x61\x64\144\x6f\x6e\x73\x2f\x79\x63\x5f\171\157\165\154\x69\141\x6f\57\155\157\144\145\154\x2f\x49\156\146\x6f\56\160\150\x70"; goto jir7F; xF0h1: defined("\111\x4e\137\x49\x41") or die("\101\x63\143\x65\163\163\40\104\145\156\151\145\x64"); goto PHGWY; QJ3LN: require IA_ROOT . "\x2f\x61\144\x64\157\156\x73\x2f\x79\x63\x5f\x79\x6f\165\154\x69\x61\157\57\143\x6c\141\x73\163\57\x66\x75\x6e\x63\164\x69\157\156\137\x63\x6f\155\155\157\x6e\56\143\154\141\163\163\x2e\x70\x68\x70"; goto Bem4S; Bem4S: require IA_ROOT . "\x2f\x61\x64\144\x6f\156\163\57\x79\x63\137\171\157\x75\154\151\141\157\x2f\x6d\x6f\x64\145\x6c\57\115\145\x6d\142\x65\x72\56\x70\150\x70"; goto fLiYR; IZqfv: require IA_ROOT . "\57\x61\144\144\x6f\x6e\163\57\x79\x63\137\x79\x6f\165\154\151\x61\x6f\57\x63\154\141\x73\163\x2f\x63\157\155\155\x6f\156\107\145\164\104\141\164\141\56\x70\150\x70"; goto l5V5l; jir7F: require IA_ROOT . "\x2f\141\144\144\x6f\x6e\x73\57\x79\143\137\x79\157\x75\154\151\x61\x6f\x2f\x6d\x6f\144\145\154\57\120\141\x79\x52\x65\x73\165\x6c\x74\x2e\x70\150\x70"; goto GQsGt; YXP0e: ?>
ï»¿<?php  goto xF0h1; WeG27: require IA_ROOT . "\57\141\x64\x64\x6f\156\163\x2f\171\x63\x5f\171\157\165\x6c\151\141\x6f\x2f\155\157\x64\x65\x6c\x2f\x47\x6f\157\x64\163\x2e\x70\x68\160"; goto vhsqa; GQsGt: class Yc_you123liaoModuleWxapp extends WeModuleWxapp { public function __construct() { $this->cfg(); } private function cfg() { goto DdAA9; CbhjK: $_W["\x75\156\x69\141\143\x69\144"] = $this->getUniacid(); goto yUr0Z; yUr0Z: $cfg = pdo_fetchcolumn("\123\105\114\105\103\124\40\163\x65\164\x74\x69\156\147\x73\40\x46\x52\117\x4d\40" . tablename("\x75\x6e\151\x5f\141\x63\143\x6f\165\x6e\164\137\155\x6f\144\165\x6c\145\x73") . "\40\127\x48\105\122\105\x20\155\x6f\144\x75\154\x65\40\x3d\40\x3a\155\157\x64\165\154\145\40\101\116\104\40\x75\x6e\x69\x61\143\x69\x64\40\x3d\40\72\x75\x6e\151\x61\x63\x69\x64", array("\x3a\155\157\144\x75\154\145" => MODULE, "\72\165\156\x69\141\143\151\144" => $_W["\165\x6e\151\x61\x63\x69\144"])); goto R1RFK; DdAA9: global $_W; goto CbhjK; R1RFK: $this->module = unserialize($cfg); goto LTtKV; LTtKV: } public function doPageTest() { goto veVuy; jGxdg: $data = commonGetData::getAdv(1); goto dkvCI; OHMM_: $errno = 0; goto yL52o; dkvCI: return $this->result($errno, $message, $data); goto wGLry; yL52o: $message = "\163\x75\143\145\x73\163"; goto jGxdg; veVuy: global $_GPC, $_W; goto OHMM_; wGLry: } private function getOpenid() { goto s6zCC; s6zCC: global $_W, $_GPC; goto TpMUG; HTMD_: goto yVrAS; goto db3AD; x2aTe: goto yVrAS; goto YSUTl; monBA: if ($nowtime) { goto zmmdS; } goto HTMD_; HA22j: if (empty($member["\x75\156\151\157\x6e\x49\x64"]) && !empty($userinfo["\165\156\x69\x6f\x6e\111\144"])) { goto Yh6tK; } goto monBA; DIIcX: $userinfo = $account_api->getOauthInfo($code); goto GpJvR; dWRGL: pdo_update(MEMBER, array("\156\151\143\153\156\x61\x6d\x65" => $_GPC["\156\151\x63\x6b\x4e\141\155\x65"], "\154\157\147\151\x6e\164\x69\x6d\145" => time(), "\141\166\x61\164\x61\162" => $_GPC["\x61\166\x61\x74\x61\162\125\162\154"]), array("\165\156\151\141\x63\151\144" => $_W["\x75\156\x69\x61\143\x69\144"], "\x6f\x70\x65\156\151\x64\x20" => $userinfo["\157\160\x65\156\x69\144"])); goto PLImH; YKk_J: zmmdS: goto dWRGL; bsst0: if (empty($member)) { goto tkNnF; } goto HA22j; TpMUG: $_W["\165\x6e\151\x61\x63\151\144"] = $this->getUniacid(); goto HEjEz; K3pKm: pdo_update(MEMBER, array("\165\156\x69\x6f\x6e\111\x64" => $userinfo["\x75\x6e\x69\157\156\111\144"]), array("\x75\156\151\x61\143\x69\x64" => $_W["\165\156\x69\x61\143\151\x64"], "\157\x70\x65\156\x69\144\40" => $userinfo["\157\x70\x65\x6e\x49\144"])); goto FE2Fh; GpJvR: $member = pdo_get(MEMBER, array("\x75\156\151\x61\x63\x69\144" => $_W["\x75\x6e\x69\x61\x63\x69\x64"], "\157\x70\x65\156\151\x64\40" => $userinfo["\x6f\160\x65\156\151\x64"])); goto KT0FB; FE2Fh: goto yVrAS; goto YKk_J; uDgPv: pdo_insert(MEMBER, $data); goto x2aTe; YSUTl: Yh6tK: goto K3pKm; KT0FB: $nowtime = $member["\154\x6f\x67\151\156\164\151\x6d\145"] - time(); goto bsst0; Jxucc: $account_api = WeAccount::create(); goto DIIcX; JbC_v: return $userinfo; goto hoG14; Sf6QQ: $data = array("\x75\x6e\151\x61\x63\x69\144" => $_W["\165\156\151\x61\x63\x69\x64"], "\157\x70\145\156\x69\x64" => $userinfo["\157\160\145\156\151\144"], "\156\x69\143\x6b\x6e\141\155\x65" => $_GPC["\x6e\x69\x63\153\116\141\155\145"], "\x61\166\141\x74\x61\162" => $_GPC["\141\x76\x61\x74\x61\162\125\162\154"], "\147\145\x6e\x64\x65\x72" => $_GPC["\x67\x65\156\144\x65\x72"], "\167\170\x61\160\x70" => 1, "\x6c\157\147\x69\156\x74\151\x6d\x65" => time()); goto uDgPv; HEjEz: $code = $_GPC["\143\x6f\144\x65"]; goto Jxucc; PLImH: yVrAS: goto JbC_v; db3AD: tkNnF: goto Sf6QQ; hoG14: } public function getUniacid() { goto d9dls; CSvDH: global $_GPC, $_W; goto gcEP9; RJ2nh: $version = $_GPC["\166"]; goto lp7iO; Lh2Zf: $_W["\165\156\151\x61\143\151\x64"] = $uniacid = $modules["\x79\143\137\x79\x6f\165\154\151\141\157"]["\x75\156\151\141\x63\x69\144"]; goto OCNPc; OHkeY: YUZIl: goto KrArt; d9dls: global $_W, $_GPC; goto CSvDH; lp7iO: $data = pdo_fetchcolumn("\40\123\x45\x4c\105\x43\x54\x20\x6d\157\x64\x75\154\x65\163\40\106\122\117\115\40" . tablename("\167\x78\x61\160\x70\x5f\166\x65\162\x73\151\x6f\x6e\163") . "\40\127\x48\x45\x52\x45\40\x20\x75\x6e\x69\x61\143\151\144\x20\x3d\40\47{$uniacid}\47\40\x20\x61\x6e\144\x20\166\x65\x72\163\151\x6f\x6e\40\x3d\40\47{$version}\x27\40\40\40\154\151\x6d\x69\x74\40\61"); goto EfXeb; KrArt: return $uniacid; goto B2unV; EfXeb: $modules = unserialize($data); goto Lh2Zf; HeDI3: if ($cWX8r) { goto YUZIl; } goto wryms; gcEP9: $uniacid = $_GPC["\151"]; goto RJ2nh; OCNPc: $cWX8r = !empty($_W["\x75\x6e\151\x61\143\151\x64"]); goto HeDI3; wryms: $uniacid = pdo_fetchcolumn("\x53\x45\x4c\x45\103\x54\40\167\145\x69\x64\40\106\x52\117\115\40" . tablename(CHANNEL) . "\40\x6f\162\x64\145\x72\x20\x62\171\40\x69\144\x20\x61\163\143\40\x6c\151\155\151\x74\40\61"); goto OHkeY; B2unV: } public function successResult($data) { goto MQdFW; uC8jl: $message = "\x73\x75\x63\145\x73\x73"; goto c37iE; MQdFW: $errno = 0; goto uC8jl; c37iE: return $this->result($errno, $message, $data); goto b6gDm; b6gDm: } public function errorResult($message) { $errno = 1; return $this->result($errno, $message); } public function doPageAttachurl() { global $_W; return $_W["\x61\164\x74\141\143\x68\165\162\154"]; } public function dopageGetSeid() { goto PIXK2; y9Mv2: $sessionId = time() . $myfun->randombylength(8); goto Dc1z8; VcKbX: CefO2: goto jni7w; GS6gW: return $this->errorResult("\62"); goto GV22H; Dc1z8: cache_write($sessionId, $userinfo["\157\x70\x65\x6e\x69\144"]); goto M1bvZ; aAf6G: if ($q9pi1) { goto CefO2; } goto GS6gW; GV22H: die; goto VcKbX; M1bvZ: return $this->successResult($sessionId); goto Q6bgD; oxFmS: $q9pi1 = !empty($userinfo); goto aAf6G; jni7w: $myfun = new myfun(); goto y9Mv2; PIXK2: $userinfo = $this->getOpenid(); goto oxFmS; Q6bgD: } public function dopageGetUser() { $userinfo = $this->getOpenid(); return $this->successResult($userinfo); } public function getUserBySeid() { goto kUs_r; UlDdI: uftp0: goto Z3PXT; FhgoQ: if ($q9pi1) { goto uftp0; } goto HA84B; DGlkn: $seid = $_GPC["\163\145\151\x64"]; goto z380T; hRxVc: $q9pi1 = !empty($userinfo); goto FhgoQ; kUs_r: global $_GPC; goto DGlkn; HA84B: return $this->errorResult("\62"); goto Cbx81; Z3PXT: return $userinfo; goto q2RpB; Cbx81: die; goto UlDdI; z380T: $userinfo = cache_load($seid); goto hRxVc; q2RpB: } public function doPageIndex() { goto eiH_i; HRKP1: Zwlz5: goto nzn5a; zx8Yz: $UMhvK = !($data["\151\x73\123\151\x67\x6e\111\156"] == 1); goto Mo58L; zJA0G: $weatherdata = util::getWeather($weatherurl, $addresData["\x64\x69\x73\164\162\x69\x63\164"]); goto O_g6q; UBckK: $city = $addresData["\143\151\164\x79"]; goto wdX00; iJjfn: Bf7_A: goto RZpi9; gUhdq: $info_condition = ''; goto TqhYg; yhGe3: if ($Ola_u) { goto Zwlz5; } goto N2YJ_; D9BNc: $fWBCM = !($cfg["\x69\x73\x73\x61\155\x65\143\151\x74\171"] == 0); goto T9bbu; RZpi9: $data["\143\162\145\x64\x69\164"] = $cfg["\x71\151\141\x6e\x64\x61\157\137\x6a\151\x66\145\156"]; goto pu0tR; WXrm_: $sql_city = rtrim($city, "\xe5\270\x82"); goto D9BNc; PvAoG: if ($qiandao_random == 1) { goto OVad3; } goto hI1OL; kIbbs: goto BZ179; goto iJjfn; pu0tR: BZ179: goto wqG8A; ToTmt: $lat = $_GPC["\x6c\141\164"]; goto xvxb3; mciJ3: $topMsg = commonGetData::getTopMsg($info_condition, $msgNum, $lat, $lng); goto dwyK9; YBzOQ: $chagexy = ReqInfo::chagexy($cfg); goto aS4Aa; aS4Aa: $addresData = util::getDistrictByLatLng($lat, $lng, $mapreq, $chagexy); goto hKmsV; bdcEJ: $uid = $_GPC["\x75\x69\144"]; goto DD3FL; g0Au2: $cfg = $this->module["\143\157\x6e\x66\151\x67"]; goto AhCxX; G9ckM: jhHBS: goto GcMEF; pmpqi: goto BZ179; goto jlBv8; DD3FL: $Ola_u = !$uid; goto yhGe3; hI1OL: if (!empty($cfg["\161\151\x61\156\x64\x61\x6f\x5f\152\x69\146\x65\x6e"])) { goto Bf7_A; } goto pmpqi; xvxb3: $lng = $_GPC["\x6c\156\147"]; goto SiXEA; hKmsV: $formatted_address = $addresData["\x66\157\x72\x6d\141\164\x74\145\x64\x5f\x61\144\x64\x72\x65\x73\163"]; goto UBckK; GhAz_: $mapreq = ReqInfo::mapReq($cfg); goto YBzOQ; iN2QR: if ($I5aVf) { goto etdij; } goto ToTmt; mIBRS: $weatherdata = util::getWeather($weatherurl, $city); goto B9xqv; SiXEA: $cfg = $this->module["\x63\x6f\x6e\146\151\147"]; goto GhAz_; HBtGK: $data["\x69\163\123\x69\147\x6e\x49\156"] = $result; goto zx8Yz; ZnYyy: $K_2HV = !($weather2["\163\164\141\164\165\163"] == "\61\60\60\x32"); goto A1GvT; V1xzx: p510y: goto XmGO4; b89iK: if ($slNdp) { goto jhHBS; } goto WXrm_; wdX00: $slNdp = !$city; goto b89iK; B9xqv: $weather2 = json_decode($weatherdata, 1); goto ZnYyy; Pqmpq: $msgNum = ReqInfo::msgNum($cfg); goto Uko2H; yRK51: $qiandao_random = $cfg["\x71\151\x61\x6e\x64\141\x6f\137\162\x61\x6e\x64\x6f\x6d"]; goto PvAoG; O_g6q: B2dLa: goto G9ckM; XmGO4: $weatherurl = ReqInfo::weatherreq(); goto mIBRS; vTz5Q: $module = commonGetData::getChannel(1, 2); goto Pqmpq; nzn5a: return $this->successResult($data); goto Zacov; TqhYg: $lat = ''; goto VzqcU; N2YJ_: $result = MEMBER::isqiandao($uid); goto HBtGK; Mo58L: if ($UMhvK) { goto zJfGX; } goto yRK51; wqG8A: zJfGX: goto HRKP1; jlBv8: OVad3: goto T4dhf; T9bbu: if ($fWBCM) { goto p510y; } goto RxhYk; eiH_i: global $_GPC, $_W; goto wMWn6; MsDQT: $weatherdata = ''; goto ILn36; T4dhf: $data["\143\162\145\x64\x69\164"] = -1; goto kIbbs; Uko2H: $newMsg = commonGetData::getNewMsg($info_condition, $msgNum, $lat, $lng); goto mciJ3; VzqcU: $lng = ''; goto gdafc; A1GvT: if ($K_2HV) { goto B2dLa; } goto zJA0G; GcMEF: etdij: goto gveHi; ILn36: $city = ''; goto g0Au2; Jfg5B: $data = array("\143\151\x74\x79" => $city, "\146\x6f\x72\155\x61\164\164\145\144\x5f\x61\144\144\162\145\163\x73" => $formatted_address, "\167\145\141\164\150\145\162\144\x61\164\x61" => $weatherdata, "\141\x64\x76\x73" => $advs, "\155\157\144\x75\x6c\x65" => $module, "\156\145\x77\x4d\163\x67" => $newMsg, "\164\x6f\160\115\163\147" => $topMsg, "\150\x6f\164\115\163\147" => $hotMsg); goto bdcEJ; gdafc: $formatted_address = ''; goto MsDQT; gveHi: $advs = commonGetData::getAdv(1); goto vTz5Q; wMWn6: $_W["\165\156\x69\x61\143\x69\144"] = $this->getUniacid(); goto gUhdq; dwyK9: $hotMsg = commonGetData::getHotMsg($info_condition, $msgNum, $lat, $lng); goto Jfg5B; AhCxX: $I5aVf = !(!empty($_GPC["\154\x61\x74"]) && !empty($_GPC["\154\156\147"])); goto iN2QR; RxhYk: $info_condition .= "\x20\x61\x6e\x64\x20\x63\151\164\x79\40\154\151\x6b\145\x20\x27" . $sql_city . "\45\x27\40"; goto V1xzx; Zacov: } public function dopageCredit2money() { goto RSp2E; p_YCX: BSBbF: goto yHAW0; yHAW0: return $this->successResult($credit2money); goto rFKuC; WkBvn: $credit2money = $cfg["\143\x72\145\x64\x69\x74\62\155\x6f\156\x65\x79"]; goto dhcfe; dhcfe: $FuTu2 = !empty($credit2money); goto T_uxE; T_uxE: if ($FuTu2) { goto BSBbF; } goto wLYwl; LDBUS: $cfg = $this->module["\x63\157\x6e\146\x69\147"]; goto WkBvn; RSp2E: global $_W, $_GPC; goto HBVan; HBVan: $_W["\x75\156\151\x61\143\151\x64"] = $this->getUniacid(); goto LDBUS; wLYwl: $credit2money = 0.1; goto p_YCX; rFKuC: } public function dopageGetLaction() { goto mNJ4S; mNJ4S: global $_GPC, $_W; goto vrGDk; eEGjP: return $this->successResult($addresData); goto xdig5; na160: $mapreq = ReqInfo::mapReq($cfg); goto V7tte; vrGDk: $I5aVf = !(!empty($_GPC["\x6c\141\x74"]) && !empty($_GPC["\x6c\156\147"])); goto pK1mG; Ssx02: $lat = $_GPC["\154\141\x74"]; goto yovGs; InS0m: $addresData = util::getDistrictByLatLng($lat, $lng, $mapreq, $chagexy); goto eEGjP; xdig5: SUMfr: goto oP8S7; V7tte: $chagexy = ReqInfo::chagexy($cfg); goto InS0m; pK1mG: if ($I5aVf) { goto SUMfr; } goto Ssx02; yovGs: $lng = $_GPC["\x6c\156\x67"]; goto d63ki; d63ki: $cfg = $this->module["\143\x6f\x6e\146\151\147"]; goto na160; oP8S7: } public function doPageGetModuleById() { goto H1CK4; alrYU: cLF6s: goto ouS4P; OabUr: $cfg = $this->module["\x63\x6f\156\x66\151\x67"]; goto yCUIt; H1CK4: global $_W, $_GPC; goto wuJ8O; gIJhQ: if ($fWBCM) { goto E40I1; } goto t2xT6; LsMhT: $id = intval($_GPC["\x69\144"]); goto zozYo; mCDIQ: $num = reqInfo::num(); goto Z55wM; xpoLM: $data = commonGetData::getMsgById($id, $page, $num, $city); goto TT5Lr; UfA6B: $errno = 1; goto bHJ3K; vbUvi: return $this->result($errno, $message); goto alrYU; zozYo: $fVcAq = !($id == 0); goto T4Ms8; wuJ8O: $_W["\165\156\151\x61\143\x69\x64"] = $this->getUniacid(); goto LsMhT; Zy7lu: $city = ''; goto OabUr; yCUIt: $fWBCM = !($cfg["\151\x73\x73\x61\155\x65\143\x69\164\171"] == 0); goto gIJhQ; ouS4P: $page = reqInfo::pageIndex(); goto mCDIQ; Vdm5c: E40I1: goto xpoLM; t2xT6: $city = $_GPC["\x63\x69\x74\x79"]; goto Vdm5c; TT5Lr: return $this->successResult($data); goto BrQ0f; bHJ3K: $message = "\x69\x64\x20\x69\x73\x20\x6e\165\x6c\154"; goto vbUvi; Z55wM: $id = intval($id); goto Zy7lu; T4Ms8: if ($fVcAq) { goto cLF6s; } goto UfA6B; BrQ0f: } public function doPageGetInfoById() { goto rtK6S; RzvdV: return $this->successResult($data); goto hf7E3; mraoq: $data = commonGetData::getInfoById($id, $_W["\165\x6e\151\x61\x63\x69\144"]); goto jbXoi; gk_pt: $id = intval($_GPC["\x69\x64"]); goto pW0A5; ht022: $fVcAq = !($id == 0); goto XgRPI; t3dWZ: $errno = 1; goto khijV; Ez1Mw: $_W["\165\x6e\151\x61\143\151\144"] = $this->getUniacid(); goto gk_pt; jbXoi: $data["\143\x6f\156\164\x65\156\x74"] = $feildlist = unserialize($data["\x63\157\156\164\145\x6e\x74"]); goto EIPRT; J_dwi: xqGfO: goto mraoq; pW0A5: $mid = intval($_GPC["\x6d\151\x64"]); goto ht022; rtK6S: global $_GPC; goto Ez1Mw; zzkOF: $data["\x69\155\141\147\145\163"] = $feildlist[$imageeenname["\145\x6e\156\141\x6d\x65"]]; goto RzvdV; EIPRT: $imageeenname = pdo_fetch("\123\x45\114\x45\x43\x54\40\145\x6e\x6e\x61\x6d\x65\40\106\122\117\x4d\x20" . tablename(FIELDS) . "\40\127\110\x45\122\105\40\167\x65\151\144\x20\75\x20{$_W["\x75\156\x69\141\143\151\144"]}\40\x41\116\x44\x20\155\x69\144\40\x3d\x20{$mid}\40\x41\x4e\x44\x20\x6d\x74\171\160\145\40\151\x6e\x20\x28\47\151\155\x61\147\145\163\x27\x2c\x27\147\x6f\x6f\144\163\x74\x68\x75\x6d\142\163\47\x2c\47\147\157\157\x64\x73\x62\x61\157\x6c\x69\x61\x6f\x27\x29"); goto zzkOF; khijV: $message = "\151\x64\x20\x69\x73\x20\x6e\x6f\164\x20\x6e\x75\154\154"; goto obTvy; XgRPI: if ($fVcAq) { goto xqGfO; } goto t3dWZ; obTvy: return $this->result($errno, $message); goto J_dwi; hf7E3: } public function doPageFields() { goto OiRkN; T0CcM: return $this->successResult($fieldslist); goto CRUxG; QYxWz: $fieldslist = commonGetData::getfield_arr($_GPC["\x69\144"], $_W["\165\x6e\x69\x61\x63\151\x64"]); goto T0CcM; zcA3v: $_W["\165\156\151\x61\x63\151\x64"] = $this->getUniacid(); goto QYxWz; OiRkN: global $_GPC; goto zcA3v; CRUxG: } public function doPageSubmit_imgs() { goto VEi3B; imhrN: $res = mkdir($uplogo_path, 511, true); goto FSpHq; kVSge: $webimgurl = tomedia($imgdir . $img_file_name); goto K0Bbe; wTZEj: $imgdir = util::getAttImgdir(); goto G2OCE; K2Opf: goto nSzkg; goto wsueu; FSpHq: knOV3: goto duDvR; OJ3kx: nSzkg: goto kVSge; wsueu: XDk2r: goto bjfWI; HSarh: if ($X1Fbs) { goto knOV3; } goto imhrN; bliYE: return $this->successResult($data); goto uc1bi; K0Bbe: $data = array("\151\155\x67\137\144\151\162" => $imgdir . $img_file_name, "\151\155\x67\x5f\160\141\x74\150" => $webimgurl); goto bliYE; bjfWI: $restult = true; goto OJ3kx; VEi3B: global $_W; goto NPqBf; G2OCE: $uplogo_path = ATTACHMENT_ROOT . $imgdir; goto zCXeG; zCXeG: $X1Fbs = is_dir($uplogo_path); goto HSarh; TySLF: if (move_uploaded_file($_FILES["\146\x69\154\145"]["\x74\155\160\x5f\x6e\x61\x6d\145"], $uplogo_path . $img_file_name)) { goto XDk2r; } goto w9xfq; ZCqFA: $myfun = new MyFun(); goto wTZEj; duDvR: $img_file_name = time() . $myfun->randombylength(8) . "\56" . $myfun->fileext($_FILES["\x66\151\x6c\x65"]["\156\x61\x6d\x65"]); goto TySLF; NPqBf: $_W["\x75\156\151\x61\143\x69\x64"] = $this->getUniacid(); goto ZCqFA; w9xfq: $restult = false; goto K2Opf; uc1bi: } public function doPageAddInfo() { goto Zjddj; zgDvB: $black = Member::getBlack($userinfo["\151\144"]); goto wuc88; K0lKW: $this->errorResult("\xe5\xbe\x88\xe6\212\xb1\xe6\255\211\357\274\x8c\346\x82\250\xe5\xb7\262\350\242\253\xe7\xa7\273\345\205\xa5\351\xbb\x91\345\x90\x8d\xe5\215\225"); goto KDtV9; o9zMI: $openid = $this->getUserBySeid(); goto PkCGO; KDtV9: r9NcJ: goto z7R8c; z7R8c: $res = $info->postInfo($openid, 2); goto I2655; PkCGO: $info = new Info(); goto gKmBX; y1UYI: $_W["\165\156\x69\141\143\x69\x64"] = $this->getUniacid(); goto o9zMI; gKmBX: $userinfo = Member::getMemberByopenid($openid); goto zgDvB; wuc88: $he7vG = empty($black); goto qx_AD; qx_AD: if ($he7vG) { goto r9NcJ; } goto K0lKW; Zjddj: global $_W, $_GPC; goto y1UYI; I2655: return $this->successResult($res); goto f8dXh; f8dXh: } public function doPageGetInfoByUser() { goto a7IZz; Zpo7l: $_W["\165\x6e\151\x61\143\x69\x64"] = $this->getUniacid(); goto nwSVG; D82jp: if ($status) { goto oajiU; } goto qSS02; sXHNK: $haspay = $_GPC["\150\x61\163\160\141\171"]; goto Xeix2; qSS02: $where .= "\x20\x41\x4e\104\x20\163\164\141\x74\x75\x73\75\x30\x20"; goto nT7xu; rCghS: $res = $this->pro_info($res); goto d9heL; tJ0ii: oajiU: goto m0ylH; nwSVG: $openid = $this->getUserBySeid(); goto JQrb1; k2TSZ: z3GBz: goto yFQe0; GGF6p: $info = new Info(); goto sXHNK; cHEXe: $where = ''; goto Egeml; yFQe0: $LNTzy = !$isneedpay; goto ezRUe; LMM46: Eplq_: goto wwRUl; K1qu3: xOTdZ: goto D82jp; nT7xu: goto Eplq_; goto tJ0ii; eAKfS: $where .= "\40\101\116\x44\x20\x68\141\163\160\141\171\75\x20" . $haspay; goto k2TSZ; oP1Lo: $num = reqInfo::num(); goto GGF6p; AzKGd: if ($ImWaE) { goto z3GBz; } goto eAKfS; d9heL: return $this->successResult($res); goto L7Zlw; ezRUe: if ($LNTzy) { goto xOTdZ; } goto a0X4t; m0ylH: $where .= "\x20\101\x4e\x44\40\x73\164\141\x74\165\x73\x3d\61\40"; goto LMM46; Egeml: $ImWaE = !$haspay; goto AzKGd; xtUMy: $isneedpay = $_GPC["\x69\163\156\145\145\x64\x70\141\x79"]; goto cHEXe; Xeix2: $status = $_GPC["\163\164\x61\164\x75\163"]; goto xtUMy; a0X4t: $where .= "\x20\x41\116\x44\40\x69\x73\x6e\145\145\x64\160\x61\x79\75\40" . $isneedpay; goto K1qu3; JQrb1: $page = reqInfo::pageIndex(); goto oP1Lo; wwRUl: $res = $info->getInfoByuser($openid, $where, $page, $num); goto rCghS; a7IZz: global $_W, $_GPC; goto Zpo7l; L7Zlw: } public function doPageGetPayInfoByUser() { goto p3z5Y; rep3U: $res = $info->getPayInfoByuser($openid, '', $page, $num); goto oLbb6; Zg_rW: $page = reqInfo::page(); goto YsqP1; CiO5C: return $this->successResult($res); goto kQYIK; OM3JZ: $openid = $this->getUserBySeid(); goto Zg_rW; p3z5Y: global $_W, $_GPC; goto H6UET; K25wa: $info = new Info(); goto rep3U; oLbb6: $res = $this->pro_info($res); goto CiO5C; YsqP1: $num = reqInfo::num(); goto K25wa; H6UET: $_W["\165\156\x69\x61\x63\151\x64"] = $this->getUniacid(); goto OM3JZ; kQYIK: } public function pro_info($res) { goto sjUKK; B5gWH: foreach ($res as $k => $v) { goto tAi4g; o3jFZ: $res[$k]["\143\x6f\156"] = unserialize($v["\x63\x6f\156\164\x65\156\164"]); goto cgR_i; aa7B3: gcuQV: goto lrbJK; tAi4g: $module = pdo_fetch("\123\105\x4c\x45\x43\x54\40\x6e\x61\155\145\40\106\x52\117\115\40" . tablename(CHANNEL) . "\x20\127\110\x45\x52\105\40\x77\145\x69\144\40\x3d\40{$_W["\x75\x6e\151\x61\x63\x69\x64"]}\x20\x41\x4e\x44\40\151\x64\40\75\x20{$v["\x6d\x69\x64"]}"); goto o3jFZ; cgR_i: $res[$k]["\155\x6f\x64\x75\154\x65\x6e\x61\x6d\x65"] = $module["\x6e\x61\155\145"]; goto aa7B3; lrbJK: } goto Zu6vJ; Puszl: return $res; goto ynkoe; Zu6vJ: y_j13: goto Puszl; sjUKK: $_W["\165\156\x69\141\x63\x69\x64"] = $this->getUniacid(); goto B5gWH; ynkoe: } public function doPageAddviews() { goto NrqIf; rCGWb: $cfg = $this->module["\143\157\x6e\146\x69\x67"]; goto mT1QR; JpvZt: gaf4A: goto IH2J2; Xo1Dv: $id = intval($_GPC["\x6d\145\163\x73\141\x67\145\x5f\151\144"]); goto ezitD; HN13j: return $this->successResult($views); goto QFphA; d2lbB: if ($views_num > 0) { goto gaf4A; } goto k2Got; bgcFh: pdo_update(INFO, array("\166\151\x65\167\163" => $views), array("\x69\144" => $id)); goto HN13j; KPFse: BihXy: goto bgcFh; mYYZG: $views = $message["\x76\x69\145\167\x73"] + $views; goto KPFse; vJUuG: $_W["\x75\x6e\x69\141\143\151\144"] = $this->getUniacid(); goto rCGWb; ezitD: $info = new Info(); goto ofGYP; NrqIf: global $_W, $_GPC; goto vJUuG; k2Got: $views = $message["\x76\x69\x65\x77\x73"] + 1; goto hxcrh; mT1QR: $views_num = intval($cfg["\x76\x69\145\167\163\137\156\x75\x6d"]); goto Xo1Dv; hxcrh: goto BihXy; goto JpvZt; IH2J2: $views = mt_rand(1, $views_num); goto mYYZG; ofGYP: $message = $info->getInfoById($id); goto d2lbB; QFphA: } public function doPageDeleteInfo() { goto Ob6EW; w7VsX: if ($message) { goto C14r9; } goto BV3j5; ZFkVM: $message = $info->getInfoByOId($openid, $id); goto w7VsX; P0bGW: C14r9: goto d_cO3; BV3j5: return $this->successResult("\x64\x61\x74\x61\40\x69\x73\40\x6e\165\154\x6c"); goto rcfhZ; rtQ2b: $openid = $this->getUserBySeid(); goto wUEmn; Ob6EW: global $_W, $_GPC; goto eBw3Q; d_cO3: pdo_delete(INFO, array("\151\144" => $id, "\x6f\160\x65\x6e\x69\144" => $openid)); goto yidAw; rcfhZ: goto O5U0Q; goto P0bGW; yidAw: return $this->successResult("\144\145\154\x65\x74\x65\40\x73\x75\x63\x63\145\x73\163"); goto k5p29; nY78Y: $id = intval($_GPC["\x6d\145\163\x73\x61\x67\145\x5f\151\x64"]); goto rtQ2b; wUEmn: $info = new Info(); goto ZFkVM; k5p29: O5U0Q: goto oIBs2; eBw3Q: $_W["\165\x6e\151\x61\x63\x69\144"] = $this->getUniacid(); goto nY78Y; oIBs2: } public function doPageGetTopInfoByUser() { goto bYjZf; kdojo: $info = new Info(); goto a52M8; EX8g_: $num = reqInfo::num(); goto kdojo; a52M8: $res = $info->getTopInfoByuser($openid, '', $page, $num); goto k30DB; k30DB: $res = $this->pro_info($res); goto TJLNk; PAAhB: $openid = $this->getUserBySeid(); goto KqYdN; TJLNk: return $this->successResult($res); goto nnKjT; krz0_: $_W["\165\x6e\x69\x61\143\x69\x64"] = $this->getUniacid(); goto PAAhB; KqYdN: $page = reqInfo::pageIndex(); goto EX8g_; bYjZf: global $_W, $_GPC; goto krz0_; nnKjT: } public function doPageGetCollect() { goto QEI61; aOCV6: $_W["\165\156\x69\x61\x63\151\x64"] = $this->getUniacid(); goto eyygo; j7zWX: P3HoU: goto ghZxD; H9T3c: $where = "\x20\x61\x6e\144\40\x62\x2e\151\x64\x3d" . $info_id; goto j7zWX; srRJn: if ($M4eek) { goto P3HoU; } goto H9T3c; iSzbI: $M4eek = !($info_id > 0); goto srRJn; Mf9WG: $page = reqInfo::pageIndex(); goto jHNYL; Ya9CZ: $info = new Info(); goto uNOtl; eyygo: $openid = $this->getUserBySeid(); goto Mf9WG; QEI61: global $_W, $_GPC; goto aOCV6; ghZxD: $res = $info->getCollect($openid, $page, $num, $where); goto nZ66C; nZ66C: return $this->successResult($res); goto YSudQ; jHNYL: $num = reqInfo::num(); goto Ya9CZ; uNOtl: $info_id = intval($_GPC["\155\x65\163\163\x61\147\x65\137\151\144"]); goto iSzbI; YSudQ: } public function doPageGetInfoOdersn() { goto M2o3Y; dlscs: $_W["\x75\156\x69\x61\143\x69\x64"] = $this->getUniacid(); goto CRNHs; CRNHs: $openid = $this->getUserBySeid(); goto VL4du; M2o3Y: global $_W, $_GPC; goto dlscs; VL4du: $id = intval($_GPC["\x6d\x65\x73\x73\x61\x67\145\137\x69\144"]); goto BL4Gu; BL4Gu: $res = util::getSingelDataInSingleTable(INFOORDER, array("\x6d\x65\163\163\x61\147\145\x5f\x69\x64" => $id, "\146\162\157\155\137\165\x73\x65\x72" => $openid), "\52", 2); goto FkPcz; FkPcz: return $this->successResult($res); goto h1gGt; h1gGt: } public function doPageProCollect() { goto efnOl; l5W_N: $res = $info->proCollect($openid); goto noGRU; wF_CT: $info = new Info(); goto l5W_N; noGRU: return $this->result($res["\145\x72\x72\157\162"], $res["\x6d\x65\163\163\x61\147\x65"]); goto lbDZ2; efnOl: global $_W, $_GPC; goto h32sW; n2Bqk: $openid = $this->getUserBySeid(); goto wF_CT; h32sW: $_W["\165\156\x69\x61\143\151\144"] = $this->getUniacid(); goto n2Bqk; lbDZ2: } public function doPageComment() { goto MQx5H; JeD_n: $type = intval($_GPC["\x74\171\160\145"]); goto LLJW7; Lv9we: die; goto gmc1D; xa1Zz: qr0G7: goto vfMBc; zxBZW: MrT11: goto jtDGJ; I_zYQ: return $this->successResult($comment); goto a1FfO; vfMBc: $orderby = "\40\143\x6f\x6d\x6d\145\x6e\x74\x5f\151\144\40\x41\x53\103\40"; goto s24Mk; B6KK6: $pid = intval($_GPC["\x70\151\x64"]); goto o9jFr; MQx5H: global $_W, $_GPC; goto lKBwW; jtDGJ: aAybi: goto Bmlhb; o9jFr: $o3MoH = !empty($info); goto R0tSS; LPfi7: if ($fVcAq) { goto cWF5T; } goto vWBOU; R0tSS: if ($o3MoH) { goto S4Tqm; } goto dtrrc; lKBwW: $_W["\165\x6e\x69\x61\143\151\144"] = $this->getUniacid(); goto JeD_n; zgoMy: cWF5T: goto iL6ka; O60jl: $comment_where["\157\160\x65\x6e\151\x64"] = $openid; goto opE2u; hOukK: CxTcK: goto F9nyJ; dtrrc: return $this->errorResult("\xe8\257\x84\xe8\xae\272\xe5\x86\205\xe5\256\271\344\xb8\x8d\xe8\203\275\xe4\270\272\xe7\251\272"); goto Lv9we; zI0eV: $result = pdo_insert(INFO_COMMENT, $data); goto RC1qq; hof9b: $fVcAq = !($id == 0); goto LPfi7; s24Mk: $comment = util::getAllDataBySingleTable(INFO_COMMENT, $comment_where, $orderby, $select = "\x2a", $type = "\61"); goto UoC5T; LLJW7: $id = intval($_GPC["\x69\x64"]); goto joQtQ; joQtQ: $openid = $this->getUserBySeid(); goto mBXmM; n9pPA: uY58k: goto hof9b; gmc1D: S4Tqm: goto c04Pd; opE2u: goto qr0G7; goto hOukK; c04Pd: $data = array("\165\x6e\x69\x61\143\x69\x64" => $_W["\165\x6e\x69\x61\x63\x69\144"], "\141\144\x64\x74\x69\155\145" => TIMESTAMP, "\157\x70\145\x6e\151\x64" => $openid, "\x69\x6e\x66\157" => $info, "\x69\156\x66\157\x5f\x69\x64" => $id, "\160\141\x72\x65\156\164\x5f\151\144" => $pid); goto zI0eV; mBXmM: if ($type == 1) { goto uY58k; } goto WtSj1; YV6c4: return $this->successResult($data); goto zxBZW; UoC5T: foreach ($comment as $k => $v) { goto yt4rB; P9O5C: $comment[$k]["\x6e\151\143\153\156\x61\x6d\145"] = $memberData["\156\151\143\x6b\156\x61\155\145"]; goto rWCLA; zDW5R: B5eIA: goto ENOCL; yt4rB: $memberData = Member::getSingleUser($v["\x6f\x70\145\x6e\151\x64"]); goto CWlf_; rWCLA: $comment[$k]["\141\144\144\164\x69\x6d\x65"] = date("\131\55\155\55\144\x20\x48\72\151", $v["\141\144\x64\164\151\155\145"]); goto zDW5R; CWlf_: $comment[$k]["\141\x76\x61\164\x61\162"] = $memberData["\x61\166\x61\x74\x61\x72"]; goto P9O5C; ENOCL: } goto T76Dj; iL6ka: $info = trim($_GPC["\x69\x6e\x66\157"]); goto B6KK6; vWBOU: return $this->errorResult("\151\x64\40\x69\x73\x20\156\x75\154\x6c"); goto zgoMy; WtSj1: if ($id > 0) { goto CxTcK; } goto O60jl; a1FfO: goto aAybi; goto n9pPA; F9nyJ: $comment_where["\x69\156\146\x6f\137\x69\144"] = $id; goto xa1Zz; T76Dj: UG2lT: goto I_zYQ; RC1qq: $RiOVM = empty($result); goto b2XHs; b2XHs: if ($RiOVM) { goto MrT11; } goto YV6c4; Bmlhb: } public function doPageQiandao() { goto aUxoE; ZCHr1: if ($sHTBP) { goto h96iS; } goto qmx_e; Gkera: return $this->successResult($res); goto LhST3; qmx_e: return $this->errorResult("\165\x69\144\40\x69\163\x20\x6e\x75\x6c\x6c"); goto yiN89; uDlwe: $sHTBP = !($uid == 0); goto ZCHr1; XAB_8: $cfg = $this->module["\143\157\x6e\x66\x69\147"]; goto PwMSQ; PE5EQ: $uid = intval($_GPC["\165\151\x64"]); goto uDlwe; aUxoE: global $_W, $_GPC; goto Y7LwG; Y7LwG: $_W["\x75\x6e\151\141\x63\x69\144"] = $this->getUniacid(); goto PE5EQ; PwMSQ: $res = Member::qiandao($uid, $cfg); goto Gkera; yiN89: h96iS: goto XAB_8; LhST3: } public function doPageGetTitle() { goto rGH2S; pCTfz: WkKBO: goto gq9OB; rGH2S: global $_W; goto y3tgV; UaXQS: $title = $cfg["\151\156\144\145\x78\137\x74\151\x74\154\145"]; goto hiy0e; v7z5I: $cfg = $this->module["\143\157\156\146\151\147"]; goto UaXQS; gq9OB: return $this->successResult($title); goto GB9Tv; j8eMM: $title = $_W["\x75\x6e\151\141\143\143\x6f\x75\x6e\164"]["\x6e\141\x6d\x65"]; goto pCTfz; OX3Kr: if ($K10P5) { goto WkKBO; } goto j8eMM; y3tgV: $_W["\x75\156\151\x61\x63\151\144"] = $this->getUniacid(); goto v7z5I; hiy0e: $K10P5 = !empty($title); goto OX3Kr; GB9Tv: } public function doPageGetCate() { goto YUjz0; NWKXg: $_W["\x75\x6e\x69\141\143\x69\x64"] = $this->getUniacid(); goto wq11Y; t2DJN: return $this->successResult($data); goto eXelp; YUjz0: global $_W, $_GPC; goto NWKXg; wq11Y: $data = Shop::getCcate(); goto t2DJN; eXelp: } public function doPageGetShop() { goto Zo0qT; CVwsi: $_W["\x75\156\x69\141\x63\x69\x64"] = $this->getUniacid(); goto A4WqX; pG5Hk: return $this->successResult($data); goto TcCeN; A4WqX: $shop_id = intval($_GPC["\163\150\157\160\x5f\151\x64"]); goto f_Q1G; Zo0qT: global $_W, $_GPC; goto CVwsi; f_Q1G: $data = Shop::getShopInfo($shop_id); goto pG5Hk; TcCeN: } public function doPageGetGood() { goto duvcy; X2b7r: return $this->successResult($data); goto kNkyj; lcbrn: $data["\x74\x69\155\145\154\141\163\x74\x73\164\162"] = $arr[0]; goto J7gEi; mC4nz: $shop_id = intval($_GPC["\163\x68\x6f\160\x5f\151\144"]); goto rkTqt; RTcbz: $_W["\x75\x6e\x69\x61\143\x69\x64"] = $this->getUniacid(); goto mC4nz; FXwT9: if ($DTK2p) { goto wtxeu; } goto Ml3Si; J7gEi: $data["\x74\x69\155\145\x6c\x61\x73\x74"] = $arr[1]; goto x5p1D; p1tKW: $data["\x74\x69\155\x65\163\137\x66\154\x61\147"] = $ms_status; goto P3buo; duvcy: global $_W, $_GPC; goto RTcbz; U2Cm6: $changedate = strtotime($date1 . "\40" . $data["\x74\151\x6d\x65\x65\156\144"] . "\x3a\x30\x30\x3a\60\x30"); goto O2ClJ; rVRXP: $DTK2p = !($data["\151\x73\x5f\x74\151\x6d\x65"] == "\x31"); goto FXwT9; Fw2rg: $data = Goods::getSingleGood($goods_id, $shop_id); goto rVRXP; O2ClJ: $arr = util::time_tran($changedate); goto lcbrn; Ml3Si: $ms_status = Goods::ms_status($data); goto p1tKW; P3buo: $date1 = date("\131\55\155\x2d\x64", time()); goto U2Cm6; rkTqt: $goods_id = intval($_GPC["\147\x6f\157\x64\x5f\x69\x64"]); goto Fw2rg; x5p1D: wtxeu: goto X2b7r; kNkyj: } public function doPageGetGood_list() { goto XKmYP; UYqYP: $page = reqInfo::pageIndex(); goto TLTgH; d0euC: return $this->successResult($data[0]); goto qR7V3; AguJe: $data = Goods::getAllGood($where, $page, $num); goto d0euC; S41aM: $_W["\x75\156\151\141\x63\x69\x64"] = $this->getUniacid(); goto UYqYP; d4j2m: $where["\x73\150\x6f\x70\x5f\151\144"] = intval($_GPC["\163\150\x6f\160\x5f\151\x64"]); goto AguJe; XKmYP: global $_W, $_GPC; goto S41aM; TLTgH: $num = reqInfo::num(); goto d4j2m; qR7V3: } public function doPageGetShopList() { goto XfzNt; D8q3V: return $this->successResult($isgroup); goto Nv5IY; Sq85b: $lat = $_GPC["\x6c\141\164"]; goto QTiUO; QTiUO: $lng = $_GPC["\x6c\x6e\147"]; goto Cclo0; Cclo0: foreach ($dis as $k => $arr) { goto Pn2mU; upLY_: $arr["\x69\156\x63\x6f"] = json_decode($arr["\x69\x6e\x63\157"]); goto MBXRK; c154k: QAnsQ: goto WKnBT; Pn2mU: $arr["\144\x69\x73\x74\x61\x6e\143\x65"] = util::getDistance($arr["\x6c\x61\164"], $arr["\154\156\x67"], $lat, $lng); goto upLY_; MBXRK: $isgroup[] = $arr; goto c154k; WKnBT: } goto PR5tK; sYEH8: $num = reqInfo::num(); goto WLusB; ST29p: $sort = array("\144\151\x72\x65\x63\164\x69\x6f\x6e" => "\123\117\122\x54\x5f\101\123\x43", "\x66\151\145\154\x64" => "\x64\x69\163\164\x61\x6e\143\x65"); goto HNO4_; IbGuU: $condition = ''; goto E1hHM; zfjRM: $condition .= "\40\141\x6e\144\x20\x73\56\x63\x63\x61\x74\145\137\151\144\40\x3d" . $cate_id; goto BVGqU; U0u1a: $_W["\x75\x6e\151\x61\x63\151\144"] = $this->getUniacid(); goto Ashtd; PR5tK: moi6q: goto uF4iv; LXMec: array_multisort($arrSort[$sort["\146\151\x65\x6c\x64"]], constant($sort["\x64\151\x72\x65\143\x74\x69\x6f\x6e"]), $isgroup); goto ByfEe; Ashtd: $page = reqInfo::pageIndex(); goto sYEH8; BVGqU: UowhS: goto jdmry; E1hHM: $c1Fzz = !($cate_id > 0); goto Nda2N; ByfEe: u2WJR: goto D8q3V; Nda2N: if ($c1Fzz) { goto UowhS; } goto zfjRM; pR6MJ: if ($BO2dk) { goto u2WJR; } goto LXMec; jdmry: $dis = pdo_fetchall("\x53\105\x4c\x45\103\x54\x20\163\x2e\x2a\x20\x46\122\117\x4d\x20" . tablename(SHOP) . "\40\x73\x20\x57\x48\x45\x52\x45\40\40\x73\x2e\x75\x6e\151\141\x63\x69\144\40\x3d\40\47{$_W["\165\x6e\x69\x61\x63\151\x64"]}\x27\40\40{$condition}\x20\x61\x6e\144\x20\x73\x2e\x73\164\x61\x74\165\x73\x20\75\61\40\x20\40\40\x4f\x52\104\x45\122\40\x42\x59\40\157\x72\144\x65\x72\142\171\x20\x6c\151\x6d\x69\164\x20{$page}\x2c{$num}\x20\x20"); goto n1wAG; n1wAG: $isgroup = array(); goto Sq85b; wc6pJ: m4Gwe: goto bBy_S; XfzNt: global $_W, $_GPC; goto U0u1a; uF4iv: $arrSort = array(); goto ST29p; HNO4_: foreach ($isgroup as $uniqid => $row) { goto x81YU; A18a5: Q0_RQ: goto PnzWr; x81YU: foreach ($row as $key => $value) { $arrSort[$key][$uniqid] = $value; cqQNg: } goto i4rxh; i4rxh: SG0zs: goto A18a5; PnzWr: } goto wc6pJ; WLusB: $cate_id = intval($_GPC["\x63\151\144"]); goto IbGuU; bBy_S: $BO2dk = !($sort["\x64\x69\x72\145\x63\x74\151\157\x6e"] && count($isgroup) > 1); goto pR6MJ; Nv5IY: } public function doPageGetDiscount() { goto E8rmi; g3iY2: $_W["\x75\156\x69\x61\x63\x69\x64"] = $this->getUniacid(); goto iUsw8; ZS0p3: $shop_id = intval($_GPC["\x73\x68\157\160\x5f\151\144"]); goto kuu4I; kuu4I: $where["\x73\150\157\160\137\151\144"] = $shop_id; goto ojXl5; iUsw8: $page = reqInfo::pageIndex(); goto xzkZ8; ojXl5: $discount = Util::getAllDataInSingleTable(DISCOUNT, $where, $page, $num); goto uhG3n; E8rmi: global $_GPC, $_W; goto g3iY2; xzkZ8: $num = reqInfo::num(); goto ZS0p3; uhG3n: return $this->successResult($discount[0]); goto Q1Qgf; Q1Qgf: } public function doPagePay() { goto RdqN9; WOW5m: $_W["\x6f\160\145\156\x69\144"] = $openid = $this->getUserBySeid(); goto OzGP_; U3kNj: if ($BELA6) { goto o6rsr; } goto dLTR0; xDLfg: $BELA6 = !is_error($pay_params); goto U3kNj; GzkbL: $pay_params = $this->pay($order); goto xDLfg; yzNaN: o6rsr: goto kd0PA; RdqN9: global $_GPC, $_W; goto WOW5m; OzGP_: $order = array("\164\151\x64" => $_GPC["\x6f\x72\x64\145\x72\163\x6e"], "\165\163\x65\x72" => $openid, "\146\145\145" => floatval($_GPC["\163\165\155"]), "\x74\151\x74\154\145" => $_W["\x61\x63\x63\x6f\165\x6e\164"]["\156\141\x6d\145"] . "\346\224\257\344\xbb\230"); goto GzkbL; kd0PA: return $this->result(0, '', $pay_params); goto dUZbN; dLTR0: return $this->result(1, $pay_params, $_W["\x6f\160\145\156\151\x64"]); goto yzNaN; dUZbN: } public function payResult($params) { goto ERfIz; pySFS: $PayResult->payresult_dis($params, 1); goto q6KlA; tMFi2: $PayResult->payresult_info($params, $paydetail, $logtag, 1, $acid); goto DE0Ko; ERfIz: global $_W, $_GPC; goto SzuFS; pOiYs: HsgdD: goto HaW16; sXALJ: if ($ordersnlen == 20) { goto T08sz; } goto UTjFP; QynHE: WGzXt: goto pySFS; JUXdi: $log = Util::getSingelDataInSingleTable("\143\157\162\145\x5f\x70\141\171\x6c\157\x67", array("\155\x6f\144\165\x6c\x65" => "\171\143\137\171\157\x75\154\x69\141\157", "\164\x69\144" => $params["\x74\x69\x64"])); goto RQxk3; DE0Ko: goto d1_Ts; goto q0vmb; q0vmb: T08sz: goto aJ3EU; WUtbq: ET5Xm: goto ca1eh; HaW16: $order = Util::getSingelDataInSingleTable(ORDER, array("\x6f\x72\144\145\162\163\156" => $id)); goto ycoZW; etrse: goto d1_Ts; goto IndMG; q6KlA: d1_Ts: goto WUtbq; WT_LV: if ($Q5VlG) { goto HsgdD; } goto za3a0; fdUNd: if ($EtKxm) { goto ET5Xm; } goto b42t3; SzuFS: $acid = $this->getUniacid(); goto i7QKq; fAe5N: $PayResult->payresult_order($params, $order, 1, $acid); goto etrse; aJ3EU: $PayResult->payresult_zd($params, $paydetail, $logtag, 1, $acid); goto JxZKd; RQxk3: $paydetail = $log["\164\x61\x67"]; goto Y28My; JxZKd: goto d1_Ts; goto QynHE; za3a0: return; goto pOiYs; IndMG: COYYU: goto tMFi2; UTjFP: if (strstr($id, "\x64\151\x73")) { goto WGzXt; } goto fAe5N; rP8j6: $checkReq = $PayResult->checkReq($params); goto qmT97; b42t3: if ($ordersnlen == 15) { goto COYYU; } goto sXALJ; VypC6: $ordersnlen = strlen($params["\164\151\144"]); goto xFjGL; qmT97: $Q5VlG = !($checkReq == 0); goto WT_LV; ycoZW: $EtKxm = !($params["\162\145\x73\165\x6c\x74"] == "\x73\x75\143\x63\x65\x73\163" && $params["\146\x72\157\x6d"] == "\156\x6f\164\151\146\171"); goto fdUNd; Y28My: $logtag = unserialize($log["\x74\141\x67"]); goto rP8j6; xFjGL: $PayResult = new PayResult(); goto JUXdi; i7QKq: $id = $params["\164\151\x64"]; goto VypC6; ca1eh: } }